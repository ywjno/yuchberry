#labels Phase-Deploy
= 配置 ADSL + DDNS 方式的 yuchberry =

该方法适用于拥有ADSL拨号上网方式的个人用户使用。ADSL 方式可以让用户获得一个Internet广域网地址（如 114.113.56.82 ），但是这个地址经常变动，用户拨号一次，基本上就会变动一次，所以需要配合DDNS（Dynamic Domain Name System 动态域名解析）来保证客户端始终能找的到服务器，并与其维持链接，从而实现邮件的推送。


= 步骤 =

== 配置服务器 ==

  * 通过ADSL链接上服务器，并且知道[http://www.ip138.com 自己的地址]。如果用户使用的是家庭SOHO路由器（就是100多块钱的货），那么需要访问路由器知道自己的IP地址。

  * 可选。建议使用DDNS 服务对这个动态分配的IP地址进行解析，以保证可以用一个不变的域名，代替动态的IP访问到服务器。国内的DDNS比较出名的有 [http://www.oray.com/peanuthull/ 花生壳] 等，我就是用的这个，选择他的主要原因是因为路由器可以配置，自动进行登录解析，不需要在服务器上进行安装。可以搜索 "动态域名" 获得更多信息。

  * 如果是直接电脑拨号上网（就是每次上网前必须点击拨号），请暂时跳过此步。使用路由器的端口映射机制映射一个端口给服务器，这个端口自己制定，比如 9716 ，这个值从3000 到 65535，不要与其他服务相重合。具体帮助请搜索 “路由器端口映射”。

  * 下载[http://www.java.com/zh_CN/download/manual.jsp Java Runtime Environment 5.0(以上) （jre）]，并进行安装。如果你已经有了Jre，就不需要安装了。判断方法（Windows平台下） ：
   # 开始 -> 运行 -> 输入 cmd -> 输入 java ，如果出现的是一大串英文，而不是“不是内部文件”之类的提示，那么就已经装上了某个版本的java
   # 然后再输入 java -version 如果出现 1.5.x（或者更高版本） 的数字字样，那么就符合要求，不然就需要去重现下载安装。

  * 下载yuchberry服务器程序到计算机上，解压缩到一个文件夹里面。

  * 打开config.ini文件，进行配置，具体的配置看这里。
   # 输入"用户密码"的时候，要记住，客户端需要用的上。
   # “yuchberry server 端口” 需要填入在前面“路由器端口映射”所分配的端口，例如 9716

  * 运行服务器程序，如果出现"prepare account OK"字样，祝贺你，服务器配置成功了。

== 配置客户端 ==

  * 下载客户端到电脑，通过 Desktop Manager 安装，OTA 版本在这里。

  * 如何填写“主机”。
   # 如果你是使用ADSL的话
